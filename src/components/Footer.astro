---
import SocialIcons from "../components/React/SocialIcon/SocialIcon";
import UserConfig from "../config/SiteConfig/config.json";
import FeatureFlag from "../config/FeatureFlag/featureflag.json";

try {
  if (!FeatureFlag.Footer) {
    return Astro.redirect("/access-denied");
  }
} catch (error) {
  return Astro.redirect("/404");
}

const currentYear = new Date().getFullYear();
---

<footer class="bg-dracula-foreground text-dracula-bg">
  <!-- Main Footer Content -->
  <div class="max-w-7xl mx-auto px-6 py-16">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-10 lg:gap-8">
      <!-- Brand Column -->
      <div class="lg:col-span-1">
        <a href="/" class="flex items-center gap-3 mb-6">
          <img
            src={UserConfig.organizationLogo}
            alt={UserConfig.SITE_TITLE}
            class="h-14 w-14 rounded-full object-cover border-2 border-dracula-cyan/30"
          />
          <div>
            <span
              class="text-xl font-bold text-dracula-bg block"
              style="font-family: 'Playfair Display', Georgia, serif;"
            >
              {UserConfig.SITE_TITLE}
            </span>
            <span class="text-xs text-dracula-comment tracking-wider">
              ADVOCATES & LEGAL CONSULTANTS
            </span>
          </div>
        </a>
        <p class="text-dracula-comment text-sm leading-relaxed mb-6">
          Providing expert legal services with integrity, dedication, and a
          commitment to justice since 2004.
        </p>

        <!-- Social Icons -->
        <SocialIcons
          facebook={UserConfig.FacebookLink}
          linkedin={UserConfig.LinkedInLink}
          instagram={UserConfig.InstagramLink}
          twitter={UserConfig.TwitterLink}
        />
      </div>

      <!-- Quick Links -->
      <div>
        <h3
          class="text-lg font-bold text-dracula-bg mb-6 relative inline-block"
          style="font-family: 'Playfair Display', Georgia, serif;"
        >
          Quick Links
          <span
            class="absolute -bottom-2 left-0 w-12 h-0.5 bg-dracula-cyan rounded-full"
          ></span>
        </h3>
        <ul class="space-y-3">
          {
            FeatureFlag.HomePage && (
              <li>
                <a
                  href="/"
                  class="text-dracula-comment hover:text-dracula-cyan transition-colors inline-flex items-center gap-2 group"
                >
                  <span class="w-1.5 h-1.5 bg-dracula-cyan/50 rounded-full group-hover:bg-dracula-cyan transition-colors" />
                  Home
                </a>
              </li>
            )
          }
          {
            FeatureFlag.AboutUs && (
              <li>
                <a
                  href="/about"
                  class="text-dracula-comment hover:text-dracula-cyan transition-colors inline-flex items-center gap-2 group"
                >
                  <span class="w-1.5 h-1.5 bg-dracula-cyan/50 rounded-full group-hover:bg-dracula-cyan transition-colors" />
                  About Us
                </a>
              </li>
            )
          }
          {
            FeatureFlag.Services && (
              <li>
                <a
                  href="/services"
                  class="text-dracula-comment hover:text-dracula-cyan transition-colors inline-flex items-center gap-2 group"
                >
                  <span class="w-1.5 h-1.5 bg-dracula-cyan/50 rounded-full group-hover:bg-dracula-cyan transition-colors" />
                  Services
                </a>
              </li>
            )
          }
          {
            FeatureFlag.CaseLaw && (
              <li>
                <a
                  href="/blog"
                  class="text-dracula-comment hover:text-dracula-cyan transition-colors inline-flex items-center gap-2 group"
                >
                  <span class="w-1.5 h-1.5 bg-dracula-cyan/50 rounded-full group-hover:bg-dracula-cyan transition-colors" />
                  Case Law
                </a>
              </li>
            )
          }
          {
            FeatureFlag.ContactUS && (
              <li>
                <a
                  href="/contact"
                  class="text-dracula-comment hover:text-dracula-cyan transition-colors inline-flex items-center gap-2 group"
                >
                  <span class="w-1.5 h-1.5 bg-dracula-cyan/50 rounded-full group-hover:bg-dracula-cyan transition-colors" />
                  Contact
                </a>
              </li>
            )
          }
        </ul>
      </div>

      <!-- Practice Areas -->
      <div>
        <h3
          class="text-lg font-bold text-dracula-bg mb-6 relative inline-block"
          style="font-family: 'Playfair Display', Georgia, serif;"
        >
          Practice Areas
          <span
            class="absolute -bottom-2 left-0 w-12 h-0.5 bg-dracula-green rounded-full"
          ></span>
        </h3>
        <ul class="space-y-3">
          <li>
            <a
              href="/services"
              class="text-dracula-comment hover:text-dracula-green transition-colors inline-flex items-center gap-2 group"
            >
              <span
                class="w-1.5 h-1.5 bg-dracula-green/50 rounded-full group-hover:bg-dracula-green transition-colors"
              ></span>
              Criminal Defense
            </a>
          </li>
          <li>
            <a
              href="/services"
              class="text-dracula-comment hover:text-dracula-green transition-colors inline-flex items-center gap-2 group"
            >
              <span
                class="w-1.5 h-1.5 bg-dracula-green/50 rounded-full group-hover:bg-dracula-green transition-colors"
              ></span>
              Family Law
            </a>
          </li>
          <li>
            <a
              href="/services"
              class="text-dracula-comment hover:text-dracula-green transition-colors inline-flex items-center gap-2 group"
            >
              <span
                class="w-1.5 h-1.5 bg-dracula-green/50 rounded-full group-hover:bg-dracula-green transition-colors"
              ></span>
              Corporate Law
            </a>
          </li>
          <li>
            <a
              href="/services"
              class="text-dracula-comment hover:text-dracula-green transition-colors inline-flex items-center gap-2 group"
            >
              <span
                class="w-1.5 h-1.5 bg-dracula-green/50 rounded-full group-hover:bg-dracula-green transition-colors"
              ></span>
              Taxation Law
            </a>
          </li>
          <li>
            <a
              href="/services"
              class="text-dracula-comment hover:text-dracula-green transition-colors inline-flex items-center gap-2 group"
            >
              <span
                class="w-1.5 h-1.5 bg-dracula-green/50 rounded-full group-hover:bg-dracula-green transition-colors"
              ></span>
              Property Disputes
            </a>
          </li>
        </ul>
      </div>

      <!-- Contact Info -->
      <div>
        <h3
          class="text-lg font-bold text-dracula-bg mb-6 relative inline-block"
          style="font-family: 'Playfair Display', Georgia, serif;"
        >
          Contact Us
          <span
            class="absolute -bottom-2 left-0 w-12 h-0.5 bg-dracula-pink rounded-full"
          ></span>
        </h3>
        <ul class="space-y-4">
          <li class="flex items-start gap-3">
            <div
              class="w-9 h-9 bg-dracula-cyan/10 rounded-lg flex items-center justify-center flex-shrink-0 mt-0.5"
            >
              <svg
                class="w-4 h-4 text-dracula-cyan"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
              </svg>
            </div>
            <div>
              <span class="text-dracula-comment text-sm leading-relaxed">
                {UserConfig.offices[0].address}
              </span>
            </div>
          </li>
          <li>
            <a
              href={`tel:${UserConfig.PhoneNumber01}`}
              class="flex items-center gap-3 group"
            >
              <div
                class="w-9 h-9 bg-dracula-green/10 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:bg-dracula-green/20 transition-colors"
              >
                <svg
                  class="w-4 h-4 text-dracula-green"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
                  ></path>
                </svg>
              </div>
              <span
                class="text-dracula-comment group-hover:text-dracula-green transition-colors"
              >
                {UserConfig.PhoneNumber01}
              </span>
            </a>
          </li>
          <li>
            <a
              href={`mailto:${UserConfig.EmailAdress}`}
              class="flex items-center gap-3 group"
            >
              <div
                class="w-9 h-9 bg-dracula-pink/10 rounded-lg flex items-center justify-center flex-shrink-0 group-hover:bg-dracula-pink/20 transition-colors"
              >
                <svg
                  class="w-4 h-4 text-dracula-pink"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
                  ></path>
                </svg>
              </div>
              <span
                class="text-dracula-comment group-hover:text-dracula-pink transition-colors"
              >
                {UserConfig.EmailAdress}
              </span>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </div>

  <!-- Bottom Bar -->
  <div class="border-t border-dracula-bg/10">
    <div
      class="max-w-7xl mx-auto px-6 py-6 flex flex-col sm:flex-row items-center justify-between gap-4"
    >
      <p class="text-sm text-dracula-comment text-center sm:text-left">
        &copy; {currentYear}
        <span class="text-dracula-bg font-medium">
          {UserConfig.SITE_TITLE}
        </span>. All rights reserved.
      </p>

      <div class="flex items-center gap-6 text-sm">
        {
          FeatureFlag.TermsAndConditions && (
            <a
              href="/terms-and-conditions"
              class="text-dracula-comment hover:text-dracula-cyan transition-colors"
            >
              Terms & Conditions
            </a>
          )
        }
        {
          FeatureFlag.PrivatePolicy && (
            <a
              href="/privacy-policy"
              class="text-dracula-comment hover:text-dracula-cyan transition-colors"
            >
              Privacy Policy
            </a>
          )
        }
      </div>
    </div>
  </div>

  <!-- Credit Bar -->
  <div class="bg-dracula-foreground/50 border-t border-dracula-bg/5">
    <div
      class="max-w-7xl mx-auto px-6 py-4 flex flex-col sm:flex-row items-center justify-center gap-2 text-xs text-dracula-comment"
    >
      <span>Crafted with care by</span>
      <a
        href="https://rafay99.com"
        target="_blank"
        rel="noopener noreferrer"
        class="font-medium text-dracula-cyan hover:text-dracula-pink transition-colors"
      >
        Syntax Lab Technologies
      </a>
      <span class="hidden sm:inline">â€¢</span>
      <a
        href="https://astro.build/"
        target="_blank"
        rel="noopener noreferrer"
        class="inline-flex items-center gap-1 hover:text-dracula-bg transition-colors"
      >
        Powered by
        <span class="font-medium">Astro</span>
        <svg
          class="w-4 h-4"
          viewBox="0 0 128 128"
          fill="currentColor"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M50.4 78.5a75.1 75.1 0 0 0-28.5 6.9l24.2-65.7c.7-2 1.9-3.2 3.4-3.2h29c1.5 0 2.7 1.2 3.4 3.2l24.2 65.7s-11.6-7-28.5-7L64 36.7 50.4 78.5z"
          ></path>
          <path
            d="M93.3 93.5a4 4 0 0 0-3.7-3 4 4 0 0 0-3.8 2.5 13.4 13.4 0 0 1-25.6 0 4 4 0 0 0-3.8-2.5 4 4 0 0 0-3.7 3c-.5 1.5-2.3 6.5 4 12.5s15.3 6 21.3 6 14.8 0 21.3-6 4.5-11 4-12.5z"
          ></path>
        </svg>
      </a>
    </div>
  </div>
</footer>
